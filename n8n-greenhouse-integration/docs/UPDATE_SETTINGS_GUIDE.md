# üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ–ª–∏–≤–∞

## –ü—Ä–æ–±–ª–µ–º–∞

–ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ –±–∞–∑–µ –æ—Å—Ç–∞–ª–∏—Å—å —Å—Ç–∞—Ä—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–±–Ω–æ–≤–∏—Ç—å –∏—Ö –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ.

## –†–µ—à–µ–Ω–∏–µ

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ n8n (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å workflow: `workflows/update-watering-settings.json`
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å PostgreSQL credentials (–µ—Å–ª–∏ –µ—â–µ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã)
3. –ó–∞–ø—É—Å—Ç–∏—Ç—å workflow –≤—Ä—É—á–Ω—É—é (–∫–Ω–æ–ø–∫–∞ "Execute Workflow")
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –≤—ã–≤–æ–¥–µ

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ SQL

–í—ã–ø–æ–ª–Ω–∏—Ç—å SQL —Å–∫—Ä–∏–ø—Ç –Ω–∞–ø—Ä—è–º—É—é –≤ PostgreSQL:

```bash
psql -U your_user -d greenhouse_db -f database/update-watering-settings.sql
```

–ò–ª–∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ `database/update-watering-settings.sql` –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤ pgAdmin/DBeaver.

## –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ –±–∞–∑–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –°—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ | –ù–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------------|----------------|
| `rad_threshold` | 500.0 | **1.1** –ú–î–∂/–º¬≤ |
| `watering_duration_sec` | 60 | **200** —Å–µ–∫ |
| `max_interval_minutes` | 180 | **90** –º–∏–Ω (1.5—á) |
| `watering_window_start` | 08:00:00 | **07:40:00** |
| `watering_window_end` | 20:00:00 | **17:20:00** |
| `morning_start_time` | 08:00:00 | **07:40:00** |

## –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥–∞ `/poliv` –≤ Telegram –¥–æ–ª–∂–Ω–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å:

```
‚è±Ô∏è –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ–ª–∏–≤–∞: 200 —Å–µ–∫
üéØ –ü–æ—Ä–æ–≥ —Ä–∞–¥–∏–∞—Ü–∏–∏: 1.1 –ú–î–∂/–º¬≤
‚è≥ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª: 1—á 30–º–∏–Ω
üïê –û–∫–Ω–æ –ø–æ–ª–∏–≤–æ–≤: 07:40 - 17:20
```

## –í–∞–∂–Ω–æ

–≠—Ç–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å **–æ–¥–∏–Ω —Ä–∞–∑** –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏. –î–ª—è –Ω–æ–≤—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–æ–∫ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π `database-migrations.json`, –∫–æ—Ç–æ—Ä—ã–π —É–∂–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è.
